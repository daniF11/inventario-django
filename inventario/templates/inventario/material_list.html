{% extends "base.html" %}

{% block title %}Materiales{% endblock %}

{% block content %}
<h1 class="mb-4">Materiales en Inventario</h1>



<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Nombre</th>
      <th>Stock</th>
      <th>Categor√≠a</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for material in materiales %}
    <tr>
      <td>{{ material.nombre }}</td>
      <td>
        {{ material.stock }} {{ material.unidad }}
        {% if material.stock <= material.stock_minimo %}
          <span class="badge bg-danger">Bajo</span>
        {% endif %}
      </td>
      <td>{{ material.categoria }}</td>
      <td>
        {% if material.activo %}
          <span class="badge bg-success">Activo</span>
        {% else %}
          <span class="badge bg-secondary">Inactivo</span>
        {% endif %}
      </td>
      <td>
        {% if perms.inventario.change_material %}
          <a href="{% url 'inventario:material_update' material.pk %}" class="btn btn-sm btn-outline-primary">Editar</a>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% if perms.inventario.add_material %}
  <a href="{% url 'inventario:material_create' %}" class="btn btn-primary mb-3">Nuevo material</a>
{% endif %}

{% endblock %}
